<html class="notion-html" lang="en"><head><meta charset="utf-8"/><meta content="width=device-width,height=device-height,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" name="viewport"/><title>Thinking in Compose - Part 1</title><meta content="en_US" property="og:locale"/><link href="/images/favicon.ico" rel="shortcut icon" type="image/x-icon"/><link href="/images/logo-ios.png" rel="apple-touch-icon"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="telephone=no" name="format-detection"/><meta content="no" name="msapplication-tap-highlight"/><link href="4c758603f1604611142662f0ddecadcb583394b5.css" media="print" rel="stylesheet"/><link href="e1d809d762eeca23edf0cb31bb17bf3c703085f5.css" rel="stylesheet"/><link href="d75e1629644e4d1ca4e93a0bedf3fb81ec5a682f.css" rel="stylesheet"/></head><body class="notion-body"><style>body{background:#fff}body.dark{background:#2f3437}.initial-loading-spinner{-webkit-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite;-webkit-transform-origin:center center;transform-origin:center center;width:1em;height:1em;opacity:.5;display:block;pointer-events:none}@-webkit-keyframes rotate{0%{-webkit-transform:rotate(0) translateZ(0);transform:rotate(0) translateZ(0)}100%{-webkit-transform:rotate(360deg) translateZ(0);transform:rotate(360deg) translateZ(0)}}@keyframes rotate{0%{-webkit-transform:rotate(0) translateZ(0);transform:rotate(0) translateZ(0)}100%{-webkit-transform:rotate(360deg) translateZ(0);transform:rotate(360deg) translateZ(0)}}</style><style id="scroll-properties">
			::-webkit-scrollbar {
				width: 10px;
				height: 10px;
			}
			::-webkit-scrollbar {
				background: transparent;
			}
			::-webkit-scrollbar-track {
				background: #EDECE9;
			}
			::-webkit-scrollbar-thumb {
				background:#D3D1CB;
			}
			::-webkit-scrollbar-thumb:hover {
				background:#AEACA6;
			}
		</style><div id="notion-app"><div class="notion-app-inner notion-light-theme" style='color: rgb(55, 53, 47); fill: currentcolor; line-height: 1.5; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; -webkit-font-smoothing: auto;'><div class="notion-cursor-listener" style="width: 100vw; height: 100%; position: relative; display: flex; flex: 1 1 0%; background: white; cursor: text;"><div class="notion-frame" style="flex-grow: 1; flex-shrink: 1; display: flex; flex-direction: column; background: white; z-index: 1; height: 100vh; max-height: 100%; width: 1920px;"><div style="width: 100%; max-width: 100vw; z-index: 9;"><div class="notion-topbar" style="width: 100%; max-width: 100vw; height: 45px; opacity: 1; transition: opacity 700ms ease 0s, color 700ms ease 0s; position: relative;"><div style="display: flex; justify-content: space-between; align-items: center; position: absolute; overflow: hidden; height: 45px; left: 0px; right: 0px; bottom: 0px; padding-left: 12px; padding-right: 10px;"><div class="notranslate" style="display: flex; align-items: center; line-height: 1.2; font-size: 14px; height: 100%; flex-grow: 0; margin-right: 8px; min-width: 0px;"><div class="notion-selectable notion-page-block" data-block-id="f1cb61aa-a426-4e2d-93d1-6def0cf5cd7e" style="display: flex; align-items: center; min-width: 0px;"><a href="tech-skills.html" rel="noopener noreferrer" style="display: flex; text-decoration: none; user-select: none; cursor: pointer; color: inherit; min-width: 0px;"><div class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 1; white-space: nowrap; height: 24px; border-radius: 3px; font-size: inherit; line-height: 1.2; min-width: 0px; padding-left: 6px; padding-right: 6px; color: rgb(55, 53, 47);" tabindex="-1"><div style="display: flex; align-items: center; min-width: 0px;"><div aria-disabled="true" class="notion-record-icon notranslate notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: flex; align-items: center; justify-content: center; height: 20px; width: 20px; border-radius: 3px; flex-shrink: 0; margin-right: 6px;" tabindex="-1"><div style="display: flex; align-items: center; justify-content: center; height: 20px; width: 20px;"><div style="height: 14px; width: 14px; font-size: 14px; line-height: 1.1; margin-left: 0px; color: black;"><img alt="➕" aria-label="➕" class="notion-emoji" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" style="width: 100%;
height: 100%;
background: url(9a8c947f139c3e6c1d3d11e3f0ecbc261719de6f.png) 98.2143% 51.7857%/5700% 5700%"/></div></div></div><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 160px;"><span>Tech Skills</span></div></div></div></a></div><span style="margin-left: 2px; margin-right: 2px; color: rgba(55, 53, 47, 0.4);">/</span><div class="notion-selectable notion-page-block" data-block-id="0460f9ce-9bb5-43a2-ba0a-39083830bb15" style="display: flex; align-items: center; min-width: 0px;"><a href="android.html" rel="noopener noreferrer" style="display: flex; text-decoration: none; user-select: none; cursor: pointer; color: inherit; min-width: 0px;"><div class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 1; white-space: nowrap; height: 24px; border-radius: 3px; font-size: inherit; line-height: 1.2; min-width: 0px; padding-left: 6px; padding-right: 6px; color: rgb(55, 53, 47);" tabindex="-1"><div style="display: flex; align-items: center; min-width: 0px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 160px;"><span>Android</span></div></div></div></a></div><span style="margin-left: 2px; margin-right: 2px; color: rgba(55, 53, 47, 0.4);">/</span><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; flex-shrink: 1; white-space: nowrap; height: 24px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 6px; padding-right: 6px; color: rgb(55, 53, 47);" tabindex="-1"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 240px;"><span>Thinking in Compose - Part 1</span></div></div></div><div style="flex-grow: 1; flex-shrink: 1;"></div><div class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 0; white-space: nowrap; height: 28px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 8px; padding-right: 8px; color: rgb(55, 53, 47);" tabindex="-1"><svg class="searchNew" style="width: 14px; height: 14px; display: block; fill: inherit; flex-shrink: 0; backface-visibility: hidden; margin-right: 6px;" viewbox="0 0 17 17"><path d="M6.78027 13.6729C8.24805 13.6729 9.60156 13.1982 10.709 12.4072L14.875 16.5732C15.0684 16.7666 15.3232 16.8633 15.5957 16.8633C16.167 16.8633 16.5713 16.4238 16.5713 15.8613C16.5713 15.5977 16.4834 15.3516 16.29 15.1582L12.1504 11.0098C13.0205 9.86719 13.5391 8.45215 13.5391 6.91406C13.5391 3.19629 10.498 0.155273 6.78027 0.155273C3.0625 0.155273 0.0214844 3.19629 0.0214844 6.91406C0.0214844 10.6318 3.0625 13.6729 6.78027 13.6729ZM6.78027 12.2139C3.87988 12.2139 1.48047 9.81445 1.48047 6.91406C1.48047 4.01367 3.87988 1.61426 6.78027 1.61426C9.68066 1.61426 12.0801 4.01367 12.0801 6.91406C12.0801 9.81445 9.68066 12.2139 6.78027 12.2139Z"></path></svg>Search</div><div class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: flex; align-items: center; justify-content: center; width: 32px; height: 28px; border-radius: 3px;" tabindex="-1"><svg class="dots" style="width: 18px; height: 18px; display: block; fill: inherit; flex-shrink: 0; backface-visibility: hidden;" viewbox="0 0 13 3"><g> <path d="M3,1.5A1.5,1.5,0,1,1,1.5,0,1.5,1.5,0,0,1,3,1.5Z"></path> <path d="M8,1.5A1.5,1.5,0,1,1,6.5,0,1.5,1.5,0,0,1,8,1.5Z"></path> <path d="M13,1.5A1.5,1.5,0,1,1,11.5,0,1.5,1.5,0,0,1,13,1.5Z"></path> </g></svg></div><div style="flex: 0 0 auto; width: 1px; height: 16px; margin-left: 8px; margin-right: 8px; background: rgba(55, 53, 47, 0.16);"></div><div class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 0; white-space: nowrap; height: 28px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 8px; padding-right: 8px; color: rgb(55, 53, 47);" tabindex="-1"><svg class="notionLogo" style="width: 18px; height: 18px; display: block; fill: inherit; flex-shrink: 0; backface-visibility: hidden; margin-right: 6px;" viewbox="0 0 120 126"><path d="M 20.6927 21.9315C 24.5836 25.0924 26.0432 24.8512 33.3492 24.3638L 102.228 20.2279C 103.689 20.2279 102.474 18.7705 101.987 18.5283L 90.5477 10.2586C 88.3558 8.55699 85.4356 6.60818 79.8387 7.09563L 13.1433 11.9602C 10.711 12.2014 10.2251 13.4175 11.1939 14.3924L 20.6927 21.9315ZM 24.8281 37.9835L 24.8281 110.456C 24.8281 114.351 26.7745 115.808 31.1553 115.567L 106.853 111.187C 111.236 110.946 111.724 108.267 111.724 105.103L 111.724 33.1169C 111.724 29.958 110.509 28.2544 107.826 28.4976L 28.721 33.1169C 25.8018 33.3622 24.8281 34.8225 24.8281 37.9835ZM 99.5567 41.8711C 100.042 44.0622 99.5567 46.2512 97.3618 46.4974L 93.7143 47.2241L 93.7143 100.728C 90.5477 102.43 87.6275 103.403 85.1942 103.403C 81.2983 103.403 80.3226 102.186 77.4044 98.54L 53.5471 61.087L 53.5471 97.3239L 61.0964 99.0275C 61.0964 99.0275 61.0964 103.403 55.0057 103.403L 38.2148 104.377C 37.727 103.403 38.2148 100.973 39.9179 100.486L 44.2996 99.2717L 44.2996 51.36L 38.2158 50.8725C 37.728 48.6815 38.9431 45.5225 42.3532 45.2773L 60.3661 44.0631L 85.1942 82.0036L 85.1942 48.4402L 78.864 47.7136C 78.3781 45.0351 80.3226 43.0902 82.7569 42.849L 99.5567 41.8711ZM 7.5434 5.39404L 76.9175 0.285276C 85.4366 -0.445402 87.6285 0.0440428 92.983 3.93368L 115.128 19.4982C 118.782 22.1747 120 22.9034 120 25.8211L 120 111.187C 120 116.537 118.051 119.701 111.237 120.185L 30.6734 125.05C 25.5584 125.294 23.124 124.565 20.4453 121.158L 4.13735 99.9994C 1.21516 96.1048 0 93.191 0 89.7819L 0 13.903C 0 9.5279 1.94945 5.8785 7.5434 5.39404Z"></path></svg>Notion</div></div></div><div style="width: 100%; user-select: none;"></div></div><div class="notion-scroller vertical horizontal" style="display: flex; flex-direction: column; z-index: 1; flex-grow: 1; position: relative; align-items: center; overflow: auto; margin-right: 0px; margin-bottom: 0px;"><div style="width: 100%; display: flex; flex-direction: column; align-items: center; flex-shrink: 0; flex-grow: 0;"><div style="padding-left: calc(96px + env(safe-area-inset-left)); padding-right: calc(96px + env(safe-area-inset-right)); max-width: 100%; width: 900px;"><div class="notion-page-controls" style='display: flex; justify-content: flex-start; flex-wrap: wrap; margin-top: 80px; margin-bottom: 4px; margin-left: -1px; color: rgba(55, 53, 47, 0.4); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; height: 24px;'></div><div class="notion-selectable notion-page-block" data-block-id="567045e7-72c9-4a8c-96ac-1f1ba286221f" style='color: rgb(55, 53, 47); font-weight: 700; line-height: 1.2; font-size: 40px; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; cursor: text; display: flex; align-items: center;'><div class="" contenteditable="false" data-root="true" placeholder="Untitled" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Thinking in Compose - Part 1</span></div></div></div></div><div style="width: 100%; display: flex; flex-direction: column; align-items: center; flex-shrink: 0; flex-grow: 0;"><div style="padding-left: calc(96px + env(safe-area-inset-left)); padding-right: calc(96px + env(safe-area-inset-right)); max-width: 100%; width: 900px;"><div class="notion-page-details-controls" style='display: flex; align-items: baseline; justify-content: flex-start; flex-wrap: wrap; color: rgba(55, 53, 47, 0.4); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; padding-bottom: 20px;'></div></div></div><div class="notion-page-content" style="flex-shrink: 0; flex-grow: 1; width: 900px; max-width: 100%; display: flex; align-items: center; flex-direction: column; font-size: 16px; line-height: 1.5; padding-left: calc(96px + env(safe-area-inset-left)); padding-right: calc(96px + env(safe-area-inset-right)); padding-bottom: 30vh;"><div class="notion-selectable notion-text-block" data-block-id="46875c3a-7975-4578-8c3d-bbf567d38d91" style="width: 100%; max-width: 1713px; margin-top: 2px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="font-weight:600;background:rgb(251,243,219)"><span>Jetpack Compose</span></span><span data-token-index="1" style="background:rgb(251,243,219)"><span> is a modern </span></span><span data-token-index="2" style="font-weight:600;background:rgb(251,243,219)"><span>declarative UI Toolkit</span></span><span data-token-index="3" style="background:rgb(251,243,219)"><span> for </span></span><span data-token-index="4" style="font-weight:600;background:rgb(251,243,219)"><span>Android</span></span><span data-token-index="5" style="background:rgb(251,243,219)"><span>.</span></span><span data-token-index="6" style="background:rgb(221,235,241)"><span> It combines a </span></span><span data-token-index="7" style="font-weight:600;background:rgb(221,235,241)"><span>reactive programming model</span></span><span data-token-index="8" style="background:rgb(221,235,241)"><span> with the </span></span><span data-token-index="9" style="font-weight:600;background:rgb(221,235,241)"><span>conciseness</span></span><span data-token-index="10" style="background:rgb(221,235,241)"><span> and ease of use of the </span></span><span data-token-index="11" style="font-weight:600;background:rgb(221,235,241)"><span>Kotlin</span></span><span data-token-index="12" style="background:rgb(221,235,241)"><span> programming language.</span></span><span data-token-index="13" style="background:rgb(250,235,221)"><span> </span></span><span data-token-index="14" style="font-weight:600;background:rgb(250,235,221)"><span>Compose</span></span><span data-token-index="15" style="background:rgb(250,235,221)"><span> makes it easier to write and maintain your app UI by providing a </span></span><span data-token-index="16" style="font-weight:600;background:rgb(250,235,221)"><span>declarative API</span></span><span data-token-index="17" style="background:rgb(250,235,221)"><span> that allows you to </span></span><span data-token-index="18" style="font-weight:600;background:rgb(250,235,221)"><span>render</span></span><span data-token-index="19" style="background:rgb(250,235,221)"><span> your app </span></span><span data-token-index="20" style="font-weight:600;background:rgb(250,235,221)"><span>UI without imperatively mutating frontend views</span></span><span data-token-index="21" style="background:rgb(250,235,221)"><span>.</span></span><span>  It is fully declarative, meaning you describe your UI by calling a series of functions that transform data into a UI hierarchy. When the underlying data changes, the framework automatically recalls these functions, updating the view hierarchy for you.</span></div></div></div></div><div class="notion-selectable notion-header-block" data-block-id="c0e4ab37-86c9-4b24-997f-073ce857dcd0" style="width: 100%; max-width: 1713px; margin-top: 2em; margin-bottom: 4px;"><div style='display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;'><div class="" contenteditable="false" data-root="true" placeholder="Heading 1" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>The declarative programming paradigm</span></div></div></div><div class="notion-selectable notion-text-block" data-block-id="c49316ee-05ac-44d1-9618-71c35f23a7e6" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Over the last several years, the entire industry has started shifting to a </span><span data-token-index="1" style="font-weight:600"><span>declarative UI model</span></span><span>, which greatly </span><span data-token-index="3" style="font-weight:600"><span>simplifies</span></span><span> the engineering associated with building and updating user interfaces. The technique works by conceptually regenerating the entire screen from scratch, then applying only the necessary changes. This approach avoids the complexity of manually updating a stateful view hierarchy.</span><span data-token-index="5" style="background:rgb(251,243,219)"><span> Compose is a declarative UI framework.</span></span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="d9dca839-fb93-4430-9c3b-dafc8a4cec02" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>One challenge with regenerating the entire screen is that it is potentially expensive, in terms of time, computing power, and battery usage. To mitigate this cost, Compose intelligently chooses which parts of the UI need to be redrawn at any given time. This does have some implications for how you design your UI components, as discussed in </span><span data-token-index="1" style="font-weight:600"><span>Recomposition</span></span><span>.</span></div></div></div></div><div class="notion-selectable notion-header-block" data-block-id="d2b3cd45-9ad3-449d-8f9b-7d1ffa0a27b9" style="width: 100%; max-width: 1713px; margin-top: 2em; margin-bottom: 4px;"><div style='display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;'><div class="" contenteditable="false" data-root="true" placeholder="Heading 1" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Composable function</span></div></div></div><div class="notion-selectable notion-text-block" data-block-id="58c4ec84-33ef-466f-b6d7-78aa9ca88eda" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>A few noteworthy things about this function:</span></div></div></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="5ba131b4-8c69-42a8-99f8-af2e105fb8d0" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>The function is annotated with the </span><span data-token-index="1" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>@Composable</span></span><span> annotation. All Composable functions must have this annotation; this annotation informs the Compose compiler that this function is intended to convert data into UI.</span></div></div></div></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="898cb2ae-f8db-4f10-93f5-8b519fbfb4e1" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>Composable functions can accept parameters, which allow the app logic to describe the UI.</span></div></div></div></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="8e291748-a96a-4e5c-bcd2-9bd353eeeeb2" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>Composable functions emit UI hierarchy by calling other composable functions.</span></div></div></div></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="7a5a2fad-1b3d-41bb-8d5c-7db9550883de" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>The function doesn't return anything. Compose functions that emit UI do not need to return anything, because they describe the desired screen state instead of constructing UI widgets.</span></div></div></div></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="3f990f31-90f5-42dd-a30b-28bdc5bcd6b3" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>This function is fast, </span><span data-token-index="1" style="font-weight:600"><span>idempotent</span></span><span>, and free of </span><span data-token-index="3" style="font-style:italic"><span>side-effects</span></span><span>.</span></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="3aa2a4ff-9867-4c0c-9747-df38b21ff58e" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>The function </span><span>behaves</span><span> the same way when called multiple times with the same argument, </span><span>and it does not use other values such as global variables or calls to </span><span data-token-index="4" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>random()</span></span><span>.</span></div></div></div></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="74e355b4-04ad-4c76-97d6-d64109788b7b" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>The function describes the UI without any side-effects, such as modifying properties or global variables.</span></div></div></div></div></div></div></div></div><div class="notion-selectable notion-header-block" data-block-id="e7ef7845-2180-4012-8092-3ea2b659cd2c" style="width: 100%; max-width: 1713px; margin-top: 2em; margin-bottom: 4px;"><div style='display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;'><div class="" contenteditable="false" data-root="true" placeholder="Heading 1" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>The declarative paradigm shift</span></div></div></div><div class="notion-selectable notion-text-block" data-block-id="e23c6e4b-a489-4b86-adad-b22306124239" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>With many imperative object-oriented UI toolkits, you initialize the UI by instantiating a tree of widgets. You often do this by inflating an XML layout file. Each widget maintains its own internal state, and exposes getter and setter methods that allow the app logic to interact with the widget.</span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="99833950-2c71-40f0-9cd0-56832164bbcd" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>In Compose's declarative approach, widgets are relatively stateless and do not expose setter or getter functions. In fact, widgets are not exposed as objects. You update the UI by calling the same composable function with different arguments. This makes it easy to provide state to architectural patterns such as a </span><span data-token-index="1" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>ViewModel</span></span><span>, as described in the Guide to app architecture. Then, your composables are responsible for transforming the current application state into a UI every time the observable data updates.</span></div></div></div></div><div class="notion-selectable notion-image-block" data-block-id="9d775756-af49-4e2c-beef-69732b3f93f2" style="width: 100%; max-width: 1905px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;"><div><div style="display: flex;"><div class="notion-cursor-default" style="position: relative; overflow: hidden; flex-grow: 1;"><div style="position: relative;"><div style="width: 100%; height: 100%;"><img src="ce9df036e4fc687b66911449c499484d097bbb4b.png" style="display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;"/></div></div></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="af820e98-d925-4fea-8706-28fa32b259a1" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="font-weight:600"><span>Figure 2.</span></span><span> The app logic provides data to the top-level composable function. That function uses the data to describe the UI by calling other composables, and passes the appropriate data to those composables, and on down the hierarchy.</span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="3b50e398-9de5-4e55-b760-a70b6139911d" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>When the user interacts with the UI, the UI raises events such as </span><span data-token-index="1" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>onClick</span></span><span>. Those events should notify the app logic, which can then change the app's state. When the state changes, the composable functions are called again with the new data. This causes the UI elements to be redrawn--this process is called </span><span data-token-index="3" style="font-style:italic;font-weight:600"><span>recomposition</span></span><span>.</span></div></div></div></div><div class="notion-selectable notion-image-block" data-block-id="410ea0d7-7e56-402b-998d-0b0803bd751f" style="width: 100%; max-width: 1905px; align-self: center; margin-top: 0.5em; margin-bottom: 0.5em;"><div><div style="display: flex;"><div class="notion-cursor-default" style="position: relative; overflow: hidden; flex-grow: 1;"><div style="position: relative;"><div style="width: 100%; height: 100%;"><img src="f20cb13a21f4542b77ebba3c95252c0a8468facc.png" style="display: block; object-fit: cover; border-radius: 1px; width: 100%; pointer-events: auto;"/></div></div></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="e6f27a0e-e0e2-4be1-b925-95453b2b8699" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="font-weight:600"><span>Figure 3.</span></span><span> The user interacted with a UI element, causing an event to be triggered. The app logic responds to the event, then the composable functions are automatically called again with new parameters, if necessary.</span></div></div></div></div><div class="notion-selectable notion-header-block" data-block-id="9cdd4e5a-6ae2-4659-bc9a-e9c73d1eadc7" style="width: 100%; max-width: 1713px; margin-top: 2em; margin-bottom: 4px;"><div style='display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;'><div class="" contenteditable="false" data-root="true" placeholder="Heading 1" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Dynamic </span><span>content</span></div></div></div><div class="notion-selectable notion-text-block" data-block-id="45e7615a-a0d2-4dfe-a4e5-6b06d0b18e66" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Because composable functions are written in Kotlin instead of XML, they can be as dynamic as any other Kotlin code. For example, suppose you want to build a UI that greets a list of users:</span></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="12dcbd83-e996-4a59-87b4-b5fc266fcae9" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token annotation builtin" data-token-index="0">@Composable</span><span data-token-index="0">
</span><span class="token keyword" data-token-index="0">fun</span><span data-token-index="0"> </span><span class="token function" data-token-index="0">Greeting</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">names</span><span class="token operator" data-token-index="0">:</span><span data-token-index="0"> List</span><span class="token operator" data-token-index="0">&lt;</span><span data-token-index="0">String</span><span class="token operator" data-token-index="0">&gt;</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
</span><span class="token keyword" data-token-index="0">for</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">name </span><span class="token keyword" data-token-index="0">in</span><span data-token-index="0"> names</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">Text</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"Hello </span><span class="token interpolation variable" data-token-index="0">$name</span><span class="token string" data-token-index="0">"</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">Kotlin<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="f7ef056b-a707-411c-9a43-61abc5c9f534" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>This function takes in a list of names and generates a greeting for each user. Composable functions can be quite sophisticated. You can use </span><span data-token-index="1" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>if</span></span><span> statements to decide if you want to show a particular UI element. You can use loops. You can call helper functions. You have the full flexibility of the underlying language. This power and flexibility is one of the key advantages of Jetpack Compose.</span></div></div></div></div><div class="notion-selectable notion-header-block" data-block-id="1b0a878d-7314-477c-b343-23a8ff9d9757" style="width: 100%; max-width: 1713px; margin-top: 2em; margin-bottom: 4px;"><div style='display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; font-weight: 600; font-size: 1.875em; line-height: 1.3; color: inherit; fill: inherit;'><div class="" contenteditable="false" data-root="true" placeholder="Heading 1" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Recomposition</span></div></div></div><div class="notion-selectable notion-text-block" data-block-id="43502596-1066-4228-83ff-11115475c6c6" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="background:rgb(251,243,219)"><span>In an imperative UI model, to change a widget, you call a setter on the widget to change its internal state. In Compose, you call the composable function again with new data.</span></span><span data-token-index="1" style="background:rgb(250,235,221)"><span> Doing so causes the function to be </span></span><span data-token-index="2" style="font-style:italic;font-weight:600;background:rgb(250,235,221)"><span>recomposed</span></span><span data-token-index="3" style="background:rgb(250,235,221)"><span>-the widgets emitted by the function are redrawn, if necessary, with new data.</span></span><span data-token-index="4" style="background:rgb(251,228,228)"><span> The Compose framework can intelligently recompose only the components that changed.</span></span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="d35dad56-48af-488c-b24c-763ac2ec6cc2" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>For example, consider this composable function which displays a button:</span></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="4af69863-621d-46e4-8e57-85db426febaf" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token annotation builtin" data-token-index="0">@Composable</span><span data-token-index="0">
</span><span class="token keyword" data-token-index="0">fun</span><span data-token-index="0"> </span><span class="token function" data-token-index="0">ClickCounter</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">clicks</span><span class="token operator" data-token-index="0">:</span><span data-token-index="0"> Int</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> onClick</span><span class="token operator" data-token-index="0">:</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token operator" data-token-index="0">-&gt;</span><span data-token-index="0"> Unit</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">Button</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">onClick </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> onClick</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">Text</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"I've been clicked </span><span class="token interpolation variable" data-token-index="0">$clicks</span><span class="token string" data-token-index="0"> times"</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">Kotlin<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="bd41c662-fb83-4c4e-914c-cf716bc4cac4" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Every time the button is clicked, the caller updates the value of </span><span data-token-index="1" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>clicks</span></span><span>. Compose calls the lambda with the </span><span data-token-index="3" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>Text</span></span><span> function again to show the new value; this process is called </span><span data-token-index="5" style="font-style:italic;font-weight:600"><span>recomposition</span></span><span>.</span><span data-token-index="7" style="background:rgb(251,243,219)"><span> Other functions that don't depend on the value are not recomposed.</span></span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="e2aaa24e-1488-48bd-a817-366b436a3234" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>As we discussed, recomposing the entire UI tree can be computationally expensive, which uses computing power and battery life. Compose solves this problem with this </span><span data-token-index="1" style="font-style:italic;font-weight:600"><span>intelligent recomposition</span></span><span>.</span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="e294199a-3644-4099-9767-cea14958813e" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="font-weight:600"><span>Recomposition</span></span><span> is the process of calling your composable functions again when inputs change. This happens when the function's inputs change. When Compose recomposes based on new inputs, it only calls the functions or lambdas that might have changed, and skips the rest. By skipping all functions or lambdas that don't have changed parameters, Compose can recompose efficiently.</span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="3b841c52-8494-4597-a77b-c737c37ba51c" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="font-weight:600;background:rgb(251,243,219)"><span>Never</span></span><span data-token-index="1" style="background:rgb(251,243,219)"><span> depend on side-effects from executing composable functions, since a function's recomposition may be skipped.</span></span><span> If you do, users may experience strange and unpredictable behavior in your app.</span><span data-token-index="3" style="background:rgb(250,235,221)"><span> A </span></span><span data-token-index="4" style="font-weight:600;background:rgb(250,235,221)"><span>side-effect</span></span><span data-token-index="5" style="background:rgb(250,235,221)"><span> is any change that is visible to the rest of your app.</span></span><span> For example, these </span><span data-token-index="7" style="font-weight:600"><span>actions</span></span><span> are all </span><span data-token-index="9" style="font-weight:600"><span>dangerous side-effects</span></span><span>:</span></div></div></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="767223e9-4590-4206-a997-94bdaec36784" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>Writing to a </span><span data-token-index="1" style="font-weight:600"><span>property</span></span><span> of a </span><span data-token-index="3" style="font-weight:600"><span>shared object</span></span></div></div></div></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="874724a0-4895-4ca5-aa91-599ec70fee2f" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>Updating an observable in </span><span data-token-index="1" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>ViewModel</span></span></div></div></div></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="3963a5da-2934-4a43-b9f2-85dc37d3a56a" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>Updating shared preferences</span></div></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="43ede819-cda6-47c2-990b-7cbabfae9584" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="background:rgb(251,228,228)"><span>Composable functions might be </span></span><span data-token-index="1" style="font-weight:600;background:rgb(251,228,228)"><span>re-executed</span></span><span data-token-index="2" style="background:rgb(251,228,228)"><span> as often as </span></span><span data-token-index="3" style="font-weight:600;background:rgb(251,228,228)"><span>every frame</span></span><span data-token-index="4" style="background:rgb(251,228,228)"><span>, such as when an animation is being rendered.</span></span><span> Composable functions should be fast to avoid jank during animations.</span><span data-token-index="6" style="background:rgb(234,228,242)"><span> If you need to do expensive operations, such as reading from shared preferences, do it in a </span></span><span data-token-index="7" style="font-weight:600;background:rgb(234,228,242)"><span>background</span></span><span data-token-index="8" style="background:rgb(234,228,242)"><span> </span></span><span data-token-index="9" style="font-weight:600;background:rgb(234,228,242)"><span>coroutine</span></span><span data-token-index="10" style="background:rgb(234,228,242)"><span> and pass the value result to the composable function as a parameter.</span></span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="fb498666-ed28-45df-ad6c-f5f0ffb6ad48" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>As an example, this code creates a composable to update a value in </span><span data-token-index="1" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>SharedPreferences</span></span><span>. The composable shouldn't read or write from shared preferences itself. Instead, this code moves the read and write to a </span><span data-token-index="3" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>ViewModel</span></span><span> in a background coroutine. The app logic passes the current value with a callback to trigger an update.</span></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="8105c4ea-f52f-4afa-9f6b-05183609ff14" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token annotation builtin" data-token-index="0">@Composable</span><span data-token-index="0">
</span><span class="token keyword" data-token-index="0">fun</span><span data-token-index="0"> </span><span class="token function" data-token-index="0">SharedPrefsToggle</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">
    text</span><span class="token operator" data-token-index="0">:</span><span data-token-index="0"> String</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0">
    value</span><span class="token operator" data-token-index="0">:</span><span data-token-index="0"> Boolean</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0">
    onValueChanged</span><span class="token operator" data-token-index="0">:</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">Boolean</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token operator" data-token-index="0">-&gt;</span><span data-token-index="0"> Unit
</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
   Row </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">Text</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">text</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">Checkbox</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">checked </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> value</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> onCheckedChange </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> onValueChanged</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">Kotlin<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="ddb3372d-4de0-4404-a57b-f719c3bc5d29" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>There are a number of things to be aware of when you program in Compose:</span></div></div></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="8173b184-961e-4906-9c1e-3f8bda1e4f74" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>Composable functions can </span><span data-token-index="1" style="font-weight:600"><span>execute</span></span><span> in </span><span data-token-index="3" style="font-weight:600"><span>any order</span></span><span>.</span></div></div></div></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="ba478d3c-766b-4dc4-8b0b-9aa5e492b712" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>Composable functions can </span><span data-token-index="1" style="font-weight:600"><span>execute</span></span><span> in </span><span data-token-index="3" style="font-weight:600"><span>parallel</span></span><span>.</span></div></div></div></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="cd71d9b8-c2d4-4505-8184-3bdcbc875fb3" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>Recomposition </span><span data-token-index="1" style="font-weight:600"><span>skips</span></span><span> as many composable functions and lambdas as possible.</span></div></div></div></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="79a7cbfd-57e1-4894-a104-53468c3a8c15" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>Recomposition is </span><span data-token-index="1" style="font-weight:600"><span>optimistic</span></span><span> and </span><span data-token-index="3" style="font-weight:600"><span>may be canceled</span></span><span>.</span></div></div></div></div></div><div class="notion-selectable notion-bulleted_list-block" data-block-id="82aee1f4-36a6-4e7e-aadb-472e3b36084e" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div style="margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="font-size: 1.5em; line-height: 1; margin-bottom: 0.1em;">•</div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder="List" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span>A composable function </span><span data-token-index="1" style="font-weight:600"><span>might be run</span></span><span> quite </span><span data-token-index="3" style="font-weight:600"><span>frequently</span></span><span>, as often </span><span data-token-index="5" style="font-weight:600"><span>as every frame</span></span><span> of an animation.</span></div></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="2627d2e9-eb57-4264-ba74-0c00748ff010" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>The following sections will cover how to build composable functions to support recomposition. In every case,</span><span data-token-index="1" style="background:rgb(251,243,219)"><span> the best practice is to keep your composable functions fast, </span></span><span data-token-index="2" style="font-weight:600;background:rgb(251,243,219)"><span>idempotent</span></span><span data-token-index="3" style="background:rgb(251,243,219)"><span>, and side-effect free.</span></span></div></div></div></div><div class="notion-selectable notion-sub_header-block" data-block-id="171b7072-a13d-4d49-891a-163858b1018e" style="width: 100%; max-width: 1713px; margin-top: 1.4em; margin-bottom: 1px;"><div style='display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;'><div class="" contenteditable="false" data-root="true" placeholder="Heading 2" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Composable </span><span>functions</span><span> can execute in any order</span></div></div></div><div class="notion-selectable notion-text-block" data-block-id="e262522e-5b25-455e-a345-a5265e88cb95" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>If you look at the code for a composable function, you might assume that the code is run in the order it appears. But this isn't necessarily true.</span><span data-token-index="1" style="background:rgb(251,243,219)"><span> If a composable function contains calls to other composable functions, those functions might run in any order.</span></span><span data-token-index="2" style="background:rgb(250,235,221)"><span> Compose has the option of recognizing that some UI elements are</span></span><span data-token-index="3" style="font-weight:600;background:rgb(250,235,221)"><span> higher priority </span></span><span data-token-index="4" style="background:rgb(250,235,221)"><span>than others, and drawing them first.</span></span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="5c788137-2356-4e30-a264-a45a2b20a75a" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>For example, suppose you have code like this to draw three screens in a tab layout:</span></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="65c6db4c-7b76-4b98-86aa-189f6b5831e8" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token annotation builtin" data-token-index="0">@Composable</span><span data-token-index="0">
</span><span class="token keyword" data-token-index="0">fun</span><span data-token-index="0"> </span><span class="token function" data-token-index="0">ButtonRow</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
    MyFancyNavigation </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">StartScreen</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">MiddleScreen</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">EndScreen</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">Kotlin<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="33c807f3-0f7d-46cd-bb77-0e0a9ebd72c3" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>The calls to </span><span data-token-index="1" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>StartScreen</span></span><span>, </span><span data-token-index="3" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>MiddleScreen</span></span><span>, and </span><span data-token-index="5" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>EndScreen</span></span><span> might happen in any order. This means you can't, for example, have </span><span data-token-index="7" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>StartScreen()</span></span><span> set some global variable (a side-effect) and have </span><span data-token-index="9" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>MiddleScreen()</span></span><span> take advantage of that change. Instead, each of those functions needs to be self-contained.</span></div></div></div></div><div class="notion-selectable notion-sub_header-block" data-block-id="198b3cab-3700-4a74-8bb8-000044810a01" style="width: 100%; max-width: 1713px; margin-top: 1.4em; margin-bottom: 1px;"><div style='display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;'><div class="" contenteditable="false" data-root="true" placeholder="Heading 2" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Composable functions can run in parallel</span></div></div></div><div class="notion-selectable notion-text-block" data-block-id="472cabff-ceed-4ddb-9b14-3f1a7af5a02c" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="background: rgb(251, 243, 219);"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Compose can optimize recomposition by running composable functions in </span><span data-token-index="1" style="font-weight:600"><span>parallel</span></span><span>. This lets Compose take advantage of </span><span data-token-index="3" style="font-weight:600"><span>multiple cores</span></span><span>, and run composable functions not on the screen at a </span><span data-token-index="5" style="font-weight:600"><span>lower priority</span></span><span>.</span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="e0b5d0e8-3a49-4f38-81d0-ee85112b1151" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="background:rgb(250,235,221)"><span>This optimization means a composable function might execute within a </span></span><span data-token-index="1" style="font-weight:600;background:rgb(250,235,221)"><span>pool of background threads</span></span><span data-token-index="2" style="background:rgb(250,235,221)"><span>.</span></span><span data-token-index="3" style="background:rgb(251,228,228)"><span> If a composable function calls a function on a </span></span><span data-token-index="4" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgb(251,228,228);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>ViewModel</span></span><span data-token-index="5" style="background:rgb(251,228,228)"><span>, Compose might call that function from several threads </span></span><span data-token-index="6" style="font-weight:600;background:rgb(251,228,228)"><span>at the same time</span></span><span data-token-index="7" style="background:rgb(251,228,228)"><span>.</span></span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="fc613fb6-b4bb-4de6-8814-a6e334d27a3d" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="background: rgb(244, 223, 235);"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>To ensure your application behaves correctly, all composable functions should have </span><span data-token-index="1" style="font-weight:600"><span>no side-effects</span></span><span>. Instead, </span><span data-token-index="3" style="font-weight:600"><span>trigger side-effects</span></span><span> from </span><span data-token-index="5" style="font-weight:600"><span>callbacks</span></span><span> such as </span><span data-token-index="7" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>onClick</span></span><span> that always execute on the </span><span data-token-index="9" style="font-weight:600"><span>UI thread</span></span><span>.</span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="ec2e3c8a-c3d8-403e-83ed-5022e3aec146" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="background:rgb(251,243,219)"><span>When a composable function is invoked, the invocation might occur </span></span><span data-token-index="1" style="font-weight:600;background:rgb(251,243,219)"><span>on a different thread</span></span><span data-token-index="2" style="background:rgb(251,243,219)"><span> from the </span></span><span data-token-index="3" style="font-weight:600;background:rgb(251,243,219)"><span>caller</span></span><span data-token-index="4" style="background:rgb(251,243,219)"><span>.</span></span><span data-token-index="5" style="background:rgb(250,235,221)"><span> That means code that </span></span><span data-token-index="6" style="font-weight:600;background:rgb(250,235,221)"><span>modifies variables</span></span><span data-token-index="7" style="background:rgb(250,235,221)"><span> in a composable lambda should be </span></span><span data-token-index="8" style="font-weight:600;background:rgb(250,235,221)"><span>avoided</span></span><span data-token-index="9" style="background:rgb(250,235,221)"><span>–both because such code</span></span><span data-token-index="10" style="font-weight:600;background:rgb(250,235,221)"><span> is not thread-safe</span></span><span data-token-index="11" style="background:rgb(250,235,221)"><span>, and because it is </span></span><span data-token-index="12" style="font-weight:600;background:rgb(250,235,221)"><span>an impermissible side-effect</span></span><span data-token-index="13" style="background:rgb(250,235,221)"><span> of the composable lambda.</span></span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="8fc05803-4c4b-43b6-a7a8-16cf3ad83dbf" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Here's an example showing a composable that displays a list and its count:</span></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="d23ee593-3920-499b-b478-e79cf76be911" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token annotation builtin" data-token-index="0">@Composable</span><span data-token-index="0">
</span><span class="token keyword" data-token-index="0">fun</span><span data-token-index="0"> </span><span class="token function" data-token-index="0">ListComposable</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">myList</span><span class="token operator" data-token-index="0">:</span><span data-token-index="0"> List</span><span class="token operator" data-token-index="0">&lt;</span><span data-token-index="0">String</span><span class="token operator" data-token-index="0">&gt;</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">Row</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">horizontalArrangement </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> Arrangement</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">SpaceBetween</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
       Column </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
</span><span class="token keyword" data-token-index="0">for</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">item </span><span class="token keyword" data-token-index="0">in</span><span data-token-index="0"> myList</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">Text</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"Item: </span><span class="token interpolation variable" data-token-index="0">$item</span><span class="token string" data-token-index="0">"</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">Text</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"Count: </span><span class="token delimiter variable" data-token-index="0">${</span><span class="token interpolation" data-token-index="0">myList</span><span class="token punctuation" data-token-index="0">.</span><span class="token interpolation" data-token-index="0">size</span><span class="token delimiter variable" data-token-index="0">}</span><span class="token string" data-token-index="0">"</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">Kotlin<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="0084aa92-81bf-45d3-a252-3b97d52d694d" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="font-weight:600"><span>This code is side-effect free</span></span><span>, and transforms the input list to UI. This is great code for displaying a small list. However, if the function writes to a local variable, this code is </span><span data-token-index="2" style="font-weight:600"><span>not be thread-safe</span></span><span> or correct:</span></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="27224476-df40-43eb-b5be-77cd60835bbc" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token annotation builtin" data-token-index="0">@Composable</span><span data-token-index="0">
</span><span class="token annotation builtin" data-token-index="0">@Deprecated</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"Example with bug"</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token keyword" data-token-index="0">fun</span><span data-token-index="0"> </span><span class="token function" data-token-index="0">ListWithBug</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">myList</span><span class="token operator" data-token-index="0">:</span><span data-token-index="0"> List</span><span class="token operator" data-token-index="0">&lt;</span><span data-token-index="0">String</span><span class="token operator" data-token-index="0">&gt;</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
</span><span class="token keyword" data-token-index="0">var</span><span data-token-index="0"> items </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> </span><span class="token number" data-token-index="0">0</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">Row</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">horizontalArrangement </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> Arrangement</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">SpaceBetween</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
       Column </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
</span><span class="token keyword" data-token-index="0">for</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">item </span><span class="token keyword" data-token-index="0">in</span><span data-token-index="0"> myList</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">Text</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"Item: </span><span class="token interpolation variable" data-token-index="0">$item</span><span class="token string" data-token-index="0">"</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
               items</span><span class="token operator" data-token-index="0">++</span><span data-token-index="0"> </span><span class="token comment" data-token-index="0">// this is a side-effect of the Column recomposing</span><span data-token-index="0">
</span><span class="token comment" data-token-index="0">// and should be avoided</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">Text</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"Count: </span><span class="token interpolation variable" data-token-index="0">$items</span><span class="token string" data-token-index="0">"</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">Kotlin<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="ae84b3ec-49e1-4f66-91ae-6e6fa54129e6" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>In this example, </span><span data-token-index="1" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>items</span></span><span> is modified with every recomposition. That could be every frame of an animation, or when the list updates. Either way, the UI will display the wrong count. Because of this, writes like this are not supported in Compose;</span><span data-token-index="3" style="background:rgb(251,243,219)"><span> by prohibiting those writes, we allow the framework to change threads to execute composable lambdas.</span></span></div></div></div></div><div class="notion-selectable notion-sub_header-block" data-block-id="037de002-75f7-4c23-91e3-791a6043b46d" style="width: 100%; max-width: 1713px; margin-top: 1.4em; margin-bottom: 1px;"><div style='display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;'><div class="" contenteditable="false" data-root="true" placeholder="Heading 2" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Recomposition skips as much as possible</span></div></div></div><div class="notion-selectable notion-text-block" data-block-id="d835cc10-501c-4b53-929c-27c4afc63a9e" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="background:rgb(251,243,219)"><span>When portions of your UI are invalid, Compose does its best to recompose just the portions that need to be updated.</span></span><span data-token-index="1" style="background:rgb(250,235,221)"><span> This means it may skip to re-run a single Button's composable without executing any of the composables above or below it in the UI tree.</span></span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="5b287ee5-381d-4d50-9b27-5ae5bccf2ea2" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Every composable function and lambda might recompose by itself. Here's an example that demonstrates how recomposition can skip some elements when rendering a list:</span></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="18d399cb-ee5d-432f-bc73-82611d1e27c4" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/**
* Display a list of names the user can click with a header
*/</span><span data-token-index="0">
</span><span class="token annotation builtin" data-token-index="0">@Composable</span><span data-token-index="0">
</span><span class="token keyword" data-token-index="0">fun</span><span data-token-index="0"> </span><span class="token function" data-token-index="0">NamePicker</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">
    header</span><span class="token operator" data-token-index="0">:</span><span data-token-index="0"> String</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0">
    names</span><span class="token operator" data-token-index="0">:</span><span data-token-index="0"> List</span><span class="token operator" data-token-index="0">&lt;</span><span data-token-index="0">String</span><span class="token operator" data-token-index="0">&gt;</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0">
    onNameClicked</span><span class="token operator" data-token-index="0">:</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">String</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token operator" data-token-index="0">-&gt;</span><span data-token-index="0"> Unit
</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
    Column </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
</span><span class="token comment" data-token-index="0">// this will recompose when [header] changes, but not when [names] changes</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">Text</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">header</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> style </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> MaterialTheme</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">typography</span><span class="token punctuation" data-token-index="0">.</span><span data-token-index="0">h5</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">Divider</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token comment" data-token-index="0">// LazyColumnFor is the Compose version of a RecyclerView.</span><span data-token-index="0">
</span><span class="token comment" data-token-index="0">// The lambda passed is similar to a RecyclerView.ViewHolder.</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">LazyColumnFor</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">names</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0"> name </span><span class="token operator" data-token-index="0">-&gt;</span><span data-token-index="0">
</span><span class="token comment" data-token-index="0">// When an item's [name] updates, the adapter for that item</span><span data-token-index="0">
</span><span class="token comment" data-token-index="0">// will recompose. This will not recompose when [header] changes</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">NamePickerItem</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">name</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> onNameClicked</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span data-token-index="0">
</span><span class="token comment" data-token-index="0">/**
* Display a single name the user can click.
*/</span><span data-token-index="0">
</span><span class="token annotation builtin" data-token-index="0">@Composable</span><span data-token-index="0">
</span><span class="token keyword" data-token-index="0">private</span><span data-token-index="0"> </span><span class="token keyword" data-token-index="0">fun</span><span data-token-index="0"> </span><span class="token function" data-token-index="0">NamePickerItem</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">name</span><span class="token operator" data-token-index="0">:</span><span data-token-index="0"> String</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> onClicked</span><span class="token operator" data-token-index="0">:</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">String</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token operator" data-token-index="0">-&gt;</span><span data-token-index="0"> Unit</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0">
</span><span class="token function" data-token-index="0">Text</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">name</span><span class="token punctuation" data-token-index="0">,</span><span data-token-index="0"> Modifier</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">clickable</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">onClick </span><span class="token operator" data-token-index="0">=</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span data-token-index="0"> </span><span class="token function" data-token-index="0">onClicked</span><span class="token punctuation" data-token-index="0">(</span><span data-token-index="0">name</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0"> </span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">Kotlin<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="33e97740-460d-4867-9464-4e106ff7009d" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Each of these scopes might be the only thing to execute during a recomposition. Compose might skip to the </span><span data-token-index="1" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>Column</span></span><span> lambda without executing any of its parents when the </span><span data-token-index="3" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>header</span></span><span> changes. And when executing </span><span data-token-index="5" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>Column</span></span><span>, Compose might choose to skip the </span><span data-token-index="7" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>LazyColumnItems</span></span><span> if </span><span data-token-index="9" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>names</span></span><span> didn't change.</span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="3420f477-c70d-452f-b5b5-8c36070df647" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Again, executing all composable functions or lambdas should be side-effect free. When you need to perform a side-effect, trigger it from a callback.</span></div></div></div></div><div class="notion-selectable notion-sub_header-block" data-block-id="a54c39f4-435a-4f09-b959-76021a916591" style="width: 100%; max-width: 1713px; margin-top: 1.4em; margin-bottom: 1px;"><div style='display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;'><div class="" contenteditable="false" data-root="true" placeholder="Heading 2" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Recomposition is optimistic</span></div></div></div><div class="notion-selectable notion-text-block" data-block-id="d1b2d2b4-42f0-4e64-99ee-44c74cd2bf10" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="font-weight:600;background:rgb(251,243,219)"><span>Recomposition</span></span><span data-token-index="1" style="background:rgb(251,243,219)"><span> starts whenever Compose thinks that the parameters of a composable might have changed.</span></span><span data-token-index="2" style="background:rgb(250,235,221)"><span> Recomposition is </span></span><span data-token-index="3" style="font-style:italic;font-weight:600;background:rgb(250,235,221)"><span>optimistic</span></span><span data-token-index="4" style="font-style:italic;background:rgb(250,235,221)"><span>,</span></span><span data-token-index="5" style="background:rgb(250,235,221)"><span> which means Compose expects to finish recomposition before the parameters change again.</span></span><span data-token-index="6" style="background:rgb(251,228,228)"><span> If a parameter </span></span><span data-token-index="7" style="font-style:italic;font-weight:600;background:rgb(251,228,228)"><span>does</span></span><span data-token-index="8" style="background:rgb(251,228,228)"><span> change before recomposition finishes, Compose might </span></span><span data-token-index="9" style="font-weight:600;background:rgb(251,228,228)"><span>cancel</span></span><span data-token-index="10" style="background:rgb(251,228,228)"><span> the recomposition and restart it with the new parameter.</span></span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="2f1401d2-f1fe-44c2-adca-6fe16b70ffae" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="background:rgb(244,223,235)"><span>When recomposition is </span></span><span data-token-index="1" style="font-weight:600;background:rgb(244,223,235)"><span>canceled</span></span><span data-token-index="2" style="background:rgb(244,223,235)"><span>, Compose </span></span><span data-token-index="3" style="font-weight:600;background:rgb(244,223,235)"><span>discards</span></span><span data-token-index="4" style="background:rgb(244,223,235)"><span> the </span></span><span data-token-index="5" style="font-weight:600;background:rgb(244,223,235)"><span>UI tree</span></span><span data-token-index="6" style="background:rgb(244,223,235)"><span> from the recomposition.</span></span><span> If you have any side-effects that depend on the UI being displayed, the side-effect will be applied even if composition is canceled. This can lead to inconsistent app state.</span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="c127aec2-1606-4199-939f-6226d961d1d2" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="background: rgb(234, 228, 242);"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Ensure that all composable functions and lambdas are </span><span data-token-index="1" style="font-weight:600"><span>idempotent</span></span><span> and </span><span data-token-index="3" style="font-weight:600"><span>side-effect free</span></span><span> to handle </span><span data-token-index="5" style="font-weight:600"><span>optimistic</span></span><span> </span><span data-token-index="7" style="font-weight:600"><span>recomposition</span></span><span>.</span></div></div></div></div><div class="notion-selectable notion-sub_header-block" data-block-id="c806f6f9-a411-46dc-97b3-8db02d22fdf8" style="width: 100%; max-width: 1713px; margin-top: 1.4em; margin-bottom: 1px;"><div style='display: flex; width: 100%; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; font-weight: 600; font-size: 1.5em; line-height: 1.3; color: inherit; fill: inherit;'><div class="" contenteditable="false" data-root="true" placeholder="Heading 2" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>Composable functions might run quite frequently</span></div></div></div><div class="notion-selectable notion-text-block" data-block-id="bb931ad8-29c2-4501-af9f-51aa7dec0f9e" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="background:rgb(221,235,241)"><span>In some cases, a composable function might run for every frame of a UI animation.</span></span><span data-token-index="1" style="background:rgb(235,236,237)"><span> If the function performs expensive operations, like reading from device storage, the function can cause UI jank.</span></span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="0f9bd54f-8d8e-4b45-ad13-e43385323117" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span>For example, if your widget tried to read device settings, it could potentially read those settings hundreds of times a second, with disastrous effects on your app's performance.</span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="f09ed5a5-8ea3-4b68-8fe3-b291a39967b8" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 0px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div class="" contenteditable="false" data-root="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span data-token-index="0" style="background:rgb(221,237,234)"><span>If your composable function needs data, it should</span></span><span data-token-index="1" style="font-weight:600;background:rgb(221,237,234)"><span> define parameters</span></span><span data-token-index="2" style="background:rgb(221,237,234)"><span> for the data.</span></span><span data-token-index="3" style="background:rgb(251,243,219)"><span> You can then move expensive work to </span></span><span data-token-index="4" style="font-weight:600;background:rgb(251,243,219)"><span>another thread</span></span><span data-token-index="5" style="background:rgb(251,243,219)"><span>, outside of composition, and pass the data to Compose using </span></span><span data-token-index="6" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgb(251,243,219);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>mutableStateOf</span></span><span data-token-index="7" style="background:rgb(251,243,219)"><span> or </span></span><span data-token-index="8" spellcheck="false" style='font-family:"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;line-height:normal;background:rgb(251,243,219);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em;font-weight:600'><span>LiveData</span></span><span data-token-index="9" style="background:rgb(251,243,219)"><span>.</span></span></div></div></div></div></div><div class="notion-presence-container" style="position: absolute; top: 0px; left: 0px; pointer-events: none; z-index: 1;"><div></div></div></div><div style="position: absolute; top: 0px; left: 0px;"><div></div></div></div></div></div></div><textarea style="opacity: 0; pointer-events: none; position: fixed; left: 0px; top: 0px;"></textarea><textarea style="opacity: 0; pointer-events: none; position: fixed; left: 0px; top: 0px;"></textarea><div style="width: env(safe-area-inset-bottom);"></div><script src="1172e9111a5fb396bcb8a05870b5eabf8abf221c.js" type="text/javascript"></script><iframe aria-hidden="true" id="intercom-frame" style="position: absolute !important; opacity: 0 !important; width: 1px !important; height: 1px !important; top: 0 !important; left: 0 !important; border: none !important; display: block !important; z-index: -1 !important; pointer-events: none;" tabindex="-1" title="Intercom"></iframe></body></html>